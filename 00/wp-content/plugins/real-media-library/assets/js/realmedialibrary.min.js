/*! real-media-library 03-05-2018 */

function RMLFormat(){var o=arguments;return o[0].replace(/{(\d+)}/g,function(e,t){return void 0!==o[+t+1]?o[+t+1]:e})}function RMLWpIs(e){return void 0!==window.wp&&void 0!==window.wp[e]}function RMLisAIO(e){return e instanceof jQuery&&document.body.contains(e[0])&&e.data("allInOneTree")}function RMLDebug(e){if("object"==typeof rmlOpts&&rmlOpts.debug){var t=jQuery.makeArray(arguments);t.unshift("[RML_DEBUG]"),console.debug?console.debug.apply(console,t):console.log.apply&&console.log.apply(console,t)}}function RMLFindDeep(e,t){for(var o=t.split("."),r=e,i=0;i<o.length;++i){if(null==r[o[i]])return;r=r[o[i]]}return r}function RMLUrlParams(i){return function(e){if(""==e)return{};for(var t={},o=0;o<e.length;++o){var r=e[o].split("=",2);2==r.length&&(i&&0<i.length&&-1<jQuery.inArray(r[0],i)||(t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))))}return t}(window.location.search.substr(1).split("&"))}Function.prototype.bind=function(){}.bind||function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function t(){}var o=[].slice,r=o.call(arguments,1),i=this,n=function(){return i.apply(this instanceof t?this:e||window,r.concat(o.call(arguments)))};return t.prototype=this.prototype,n.prototype=new t,n},"function"!=typeof jQuery.fn.replaceWithPush&&(jQuery.fn.replaceWithPush=function(e){var t=jQuery(e);return this.replaceWith(t),t});var RML_HOOK={hooks:[],register:function(e,t){for(var o,r=e.split(" "),i=0;i<r.length;i++)o=r[i],void 0===RML_HOOK.hooks[o]&&(RML_HOOK.hooks[o]=[]),RML_HOOK.hooks[o].push(t)},call:function(e,t,o){if(RMLDebug("Call js hook '"+e+"' with arguments",t),void 0!==RML_HOOK.hooks[e])for(var r=0;r<RML_HOOK.hooks[e].length;++r)if("object"==typeof t){if("[object Array]"===Object.prototype.toString.call(t)?t.push(jQuery):t=[t,jQuery],0==RML_HOOK.hooks[e][r].apply(o,t))break}else if(0==RML_HOOK.hooks[e][r].apply(o,[jQuery]))break},exists:function(e){return void 0!==RML_HOOK.hooks[e]}};window.rml={hooks:RML_HOOK,typeAccept:{}},window.rml.library={attachments:{},lastIdInView:!1,gridViewMediaFrame:!1,updateRestrictions:function(e,t){var r=e.attr("data-restrictions"),o=t.find(".aio-toolbar-placeholder > .fa-warning"),i=rmlOpts.lang.toolbarItems.restrictions;if(0<(r=r&&0<r.length?r.split(","):[]).length){var n,a,l="<ul>",s=0;jQuery.each(i,function(e,t){a=n=!1;for(var o=0;o<r.length;o++)if(0===r[o].indexOf(e)){n=!0,">"===r[o].slice(-1)&&(a=!0,s++);break}n&&(l+="<li>"+t,a&&(l+=" <b>*</b>"),l+="</li>")}),l+="</ul>",0<s&&(l+="<b>*</b> "+rmlOpts.lang.toolbarItems.restrictionsInherits);var d={};d.text=rmlOpts.lang.toolbarItems.restrictionsSuffix+l,o.show(),o.attr("data-aio-tooltip-text",d.text),t.allInOneTree("reinit","tooltips")}else o.hide()},initializeToolbar:function(){if(RMLFindDeep(window,"wp.media.view.Attachment.Library")){var r=window.wp,e=r.media.view.Attachment.Library.prototype.render;r.media.view.Attachment.Library.prototype.render=function(){e.apply(this,arguments),window.rml.hooks.call("grid/item/rendered",[this.$el,this.model],this)},r.media.view.AttachmentFilters.RML=r.media.view.AttachmentFilters.extend({className:"attachment-filters attachment-filters-rml",createFilters:function(){var e;if(this.filters=e={all:{text:"All",props:{rml_folder:"",rml_type:""},priority:10}},window.rml.hooks.call("grid/toolbar/filters",[e],this),rmlOpts.namesSlug){var t,o,r=rmlOpts.namesSlug.names,i=rmlOpts.namesSlug.types,n=rmlOpts.namesSlug.slugs;for(t=0;t<r.length;t++)o={rml_folder:n[t],rml_type:i[t]},e[n[t]]={text:r[t],props:o,priority:20+t}}window.rml.hooks.exists("grid/toolbar/default")?window.rml.hooks.call("grid/toolbar/default",[e],this):this.model.set(e.all.props,{silent:!1})}});var i=r.media.view.AttachmentsBrowser;r.media.view.AttachmentsBrowser=r.media.view.AttachmentsBrowser.extend({initialize:function(){i.prototype.initialize.apply(this,arguments),this.collection.on("remove",function(){window.rml.hooks.call("grid/item/removed",jQuery.makeArray(arguments),this)})},createToolbar:function(){var e=jQuery.Deferred();this.$el.data("backboneView",this),this._treeLoaded=e,i.prototype.createToolbar.call(this);var t,o=new r.media.view.AttachmentFilters.RML({className:"attachment-filters attachment-filters-rml attachment-filters-rml-loaded",controller:this.controller,model:this.collection.props,priority:-75}).render();this.toolbar.set("rml_folder",o),this.collection.on("change reset add remove",function(){clearTimeout(t);var e=arguments;t=setTimeout(function(){window.rml.hooks.call("grid/item/changed",e,this)}.bind(this),500)},this),e.done(function(e){o.initialize()}.bind(this),5e3)}});var t=r.media.view.Modal.prototype.close;r.media.view.Modal.prototype.close=function(){t.apply(this,arguments);var e=this.$el.find(".rml-media-modal").removeClass("rml-media-modal");e.find(".rml-container").remove(),e.find(".attachments-browser").data("initialized",!1)},jQuery(document).ajaxComplete(function(e,t,o){try{-1<o.data.indexOf("action=delete-post")&&this.refreshAllCounts()}catch(e){}}.bind(this)),window.rml.hooks.call("grid/toolbar")}},initializeTreeContentLoader:function(e,t){return this.loadTreeContent(e,t).done(function(e){e.success&&(rmlOpts.namesSlug=e.data.namesSlug)}.bind(this))},sweetAlertPosition:function(){var e=jQuery(".sweet-alert.showSweetAlert");if(0<e.length){var t=e.outerHeight();e.stop().animate({"margin-top":-1*(t/2+8.5)},500)}},getMediaPickerSelected:function(){var e=jQuery,t=null,o=null;return e(".media-modal.wp-core-ui").each(function(){e(this).parent().is(":visible")&&(t=e(this))}),null!==t&&(o=t.find(".attachment-filters.attachment-filters-rml").find(":selected")),o},getObjectOfMediaPickerOrActive:function(){var e=this.getMediaPickerSelected();if(null!==e){var t=e.attr("value");return jQuery(".aio-tree-instance").allInOneTree("byId",t)}return jQuery(".aio-tree-instance").allInOneTree("active")},getUrlParameter:function(e,t){var o,r,i=decodeURIComponent(t||window.location.search.substring(1)).split("&");for(r=0;r<i.length;r++)if((o=i[r].split("="))[0]===e)return void 0===o[1]||o[1]},getFolderInfo:function(o,e){var r=null;try{jQuery.each(rmlOpts.mce.dirs,function(e,t){t.value==o&&(r=t)})}catch(e){}return void 0!==e&&null!==r?r[e]:r},getBackboneOfAIO:function(e){var t,o,r=e.parents(".media-modal");return o=(t=0<r.length?r.find(".attachments-browser"):jQuery("#wpbody-content .attachments-browser")).data("backboneView"),{browser:t,view:o}},refreshAllCounts:function(){this.refreshCount(jQuery(".aio-tree-instance"))},showShortcutInfo:function(t){var e=jQuery,o=this.showShortcutInfoAppendTo(t,'<div style="height:50px;text-align:center;"><div class="spinner is-active" style="float: initial;margin: 0;"></div></div>');t.addClass("rml-shortcut-info-init"),e.ajax({type:"POST",url:rmlOpts.ajaxUrl,data:{action:"rml_shortcut_infos",nonce:rmlOpts.nonces.shortcutInfo,id:t.attr("data-id")},success:function(e){0<e.length&&(t=o.replaceWithPush(e))}.bind(this)})},showShortcutInfoAppendTo:function(e,t){var o=jQuery,r=e.parents(".attachment-details"),i=e.parents(".media-sidebar");return(0<i.length?i:0<r.length?r:e).find(".rml-shortcut-info-container,rml-shortcut-info-init").remove(),0<i.length?o(t).appendTo(i):0<r.length?o(t).insertAfter(r.children(".attachment-info").children(".settings")):e.replaceWithPush(t)},refreshCount:function(t,o){jQuery.ajax({url:rmlOpts.ajaxUrl,data:{action:"rml_folder_count",nonce:rmlOpts.nonces.folderCount},invokeData:o,success:function(e){e.success&&t.allInOneTree("counts",e.data),"function"==typeof o&&o(e)}})},liveCustomLists:!1,customLists:function(){var r=jQuery;r(".rml-root-list.rml-custom-list:not(.rml-custom-init)").each(function(){r(this).addClass("rml-custom-init"),window.rml.hooks.call("tree/custom",r(this)),void 0!==r(this).attr("id")&&window.rml.hooks.call("tree/custom/"+r(this).attr("data-id"),r(this))}),this.liveCustomLists||(r(document).on("click",".rml-root-list.rml-custom-list a",function(e){var t=r(this).attr("data-id"),o=r(this).parents(".rml-root-list.rml-custom-list");return o.children("input").val(t),o.find("a.active").removeClass("active"),r(this).addClass("active"),e.preventDefault(),!1}),this.liveCustomLists=!0)},iterateDraggedItems:function(e,t,o,r){var i=jQuery;if(t.data("isListMode")){var n=i('input[name="media[]"]:checked');0<n.length?n.each(function(){o(i(this).parents("tr"))}):o(e)}else{var a,l=window.rml.library.getBackboneOfAIO(t);if(l.view){r=r.bind(l);try{a=l.view.options.selection.models}catch(e){}if(a&&0<a.length)for(var s=0;s<a.length;s++)r(a[s].attributes);else{var d=e.data("id"),c=l.view.collection.models;for(s=0;s<c.length;s++)if(c[s].id==d){r(c[s].attributes);break}}}}},loadTreeContent:function(e,t){var o=jQuery,r={action:"rml_tree_content",nonce:rmlOpts.nonces.treeContent,rml_folder:e};return o.post(rmlOpts.ajaxUrl,r)}},window.rml.hooks.register("tree/afterInit/ML",function(){window.rml.hooks.register("grid/item/changed",function(){RMLisAIO(jQuery(this))&&jQuery(this).allInOneTree("reinit","sticky")}.bind(this))}),window.rml.hooks.register("tree/refresh",function(e){var t=window.rml.library.getBackboneOfAIO(e(this));if(0<t.browser.length&&"object"==typeof t.view)try{t.view.collection.props.set({ignore:+new Date})}catch(e){console.log(e)}else window.location.reload()}),window.rml.hooks.register("ready",function(e){window.rml.library.initializeToolbar()}),window.rml.hooks.register("folder/renamed",function(e,t,o,r){r(this).allInOneTree("rename",t),r(this).allInOneTree("active").attr("data-slug",o)}),window.rml.hooks.register("createdBeforeRendering",function(r,i,n){n(this).allInOneTree("loader",!0),window.rml.library.loadTreeContent().done(function(e){if(e.success){var t=n(e.data.nodes);0<t.length&&(n(this).allInOneTree("toolbarButton","rename"),n(this).allInOneTree("nodesHTML",t.html(),!0),n(this).allInOneTree("loader",!1)),rmlOpts.namesSlug=e.data.namesSlug;var o=window.rml.library.getBackboneOfAIO(n(this));if("object"==typeof o.view)o.view.toolbar.get("rml_folder").createFilters();n(".attachment-filters.attachment-filters-rml").append('<option value="'+i.data.id+'">'+r[0]+"</option>"),window.rml.hooks.call("folder/created",[r,i,e],this)}}.bind(this))}),window.rml.hooks.register("general",function(e,t){jQuery.ajaxPrefilter(function(e,t,o){try{t.data&&t.data.action&&t.data.query.rml_folder&&"query-attachments"==t.data.action&&window.rml.hooks.call("grid/request",[e,t,o,t.data.query.rml_folder])}catch(e){}})}),window.rml.hooks.register("grid/request",function(e,t,o,r,i){if(!(r<0)){var n=t.data.query.rml_type;n&&window.rml.hooks.call("grid/request/"+n,arguments)}}),window.rml.hooks.register("tree/afterInit/ML",function(e){var t=e(this),o=t.find(".aio-fixed-header");0<o.length&&e(document).scroll(function(){e(this).scrollTop()+o.outerHeight()+o.position().top>t.find(".aio-list-standard").offset().top?(t.addClass("aio-theme-wordpress-fixed"),o.addClass("aio-reached-overflow").css("min-width",t.children(".aio-wrap").width()-10+"px")):(t.removeClass("aio-theme-wordpress-fixed"),o.removeClass("aio-reached-overflow").css("min-width",""))})}),window.rml.hooks.register("tree/afterInit/modal",function(e,o,r){var i=r(this),n=i.find(".aio-fixed-header"),a=i.find(".aio-fixed-header-helper"),l=n.outerHeight();i.hasClass("aio-theme-wordpress-fixed")&&0<n.length&&0<a.length&&e.scroll(function(){var e=o.position().top,t=r(this).scrollTop();i.find(".aio-list-standard").offset().top-e<t?(a.height(l),i.addClass("aio-theme-wordpress-fixed"),n.addClass("aio-reached-overflow").css({"min-width":i.children(".aio-wrap").width()-10+"px",top:e+"px"})):(i.removeClass("aio-theme-wordpress-fixed"),n.removeClass("aio-reached-overflow").css("min-width",""),a.height(0))})}),window.rml.hooks.register("tree/switch",function(e,t,o,r){window.rml.library.updateRestrictions(e,r(this))}),window.rml.hooks.register("tree/afterInit",function(t){t("body").data("rml")||(t(document).on("keydown",function(e){t("body").addClass("rml-holding")}),t(document).on("keyup",function(e){t("body").removeClass("rml-holding")}),t("body").data("rml",!0))}),window.rml.returnTrue=function(){return!0},window.rml.typeAccept[3]=window.rml.returnTrue,window.rml.typeAccept[4]=window.rml.returnTrue,window.rml.typeAccept[0]=window.rml.returnTrue,window.rml.typeAccept[1]=function(){return!1},window.rml.typeAccept[2]=function(e,t,o){var r=!1;return window.rml.library.iterateDraggedItems(e,t,function(e){e.find(".media-icon").hasClass("image-icon")||(r=!0)},function(e){"image"!=e.type&&(r=!0)}),!r},window.rml.hooks.register("tree/prepare/aioSettings/grid",function(e,r){e.others.onSwitchFolder=function(e,t){if(!RMLisAIO(r(this)))return!1;var o=e.attr("data-aio-id");e.attr("data-aio-type");return"AIO_NEW_TO_CREATE"==o||"AIO_NEW_TO_CREATE"==t||(r(this).allInOneTree("active",o,!0),r(r(this).allInOneTree("option").container.customSelectToChange).val(0<o.length?o:"all").change(),e.hasClass("needs-refresh")&&(r(this).allInOneTree("toolbarButton","refresh"),e.removeClass("needs-refresh")),setTimeout(function(){r(this).allInOneTree("reinit","movement")}.bind(this),500),window.rml.hooks.call("tree/switch",[e,e.attr("data-aio-id"),e.attr("data-aio-type")],this)),!1}}),window.rml.hooks.register("tree/switch",function(e,t,o,r){var i=window.rml.library.getBackboneOfAIO(r(this));i&&0===i.view.$el.parents(".media-modal").size()&&i.view.controller.state().get("selection").reset()}),window.rml.hooks.register("tree/afterInit/grid",function(e){var t=e(this);window.rml.hooks.register("grid/item/changed",function(){RMLisAIO(t)&&t.allInOneTree("reinit","movement")});var o=window.rml.library.getBackboneOfAIO(t);void 0!==o.view&&(0<o.view.$(".media-button-backToLibrary").length&&t.allInOneTree("movement",!1));t.allInOneTree("active",t.allInOneTree("active"))}),window.rml.hooks.register("grid/item/removed",function(e,t,o,r){for(var i=e.attributes.id,n=0;n<t.models.length;n++)t.models[n].attributes.rmlIsShortcut===i&&(t.remove(t.models[n]),this.remove(t.models[n]))}),window.rml.hooks.register("grid/item/rendered",function(e,t,o){e.data("backboneModel",t);var r=0<t.attributes.rmlIsShortcut,i=e.children(".attachment-preview").children(".rml-shortcut-container");i.remove(),0<r?(e.addClass("rml-shortcut rml-shortcut-grid"),(i=o('<div class="rml-shortcut-container"><i class="fa fa-share rml-shortcut-icon"></i></div>').appendTo(e.children(".attachment-preview"))).tooltipster({contentAsHTML:!0,content:'<div class="aio-tooltip-title">'+rmlOpts.lang.shortcut+'</div><div class="aio-tooltip-text">'+rmlOpts.lang.shortcutInfo+"</p>",delay:300,theme:"tooltipster-aio",maxWidth:300})):e.removeClass("rml-shortcut rml-shortcut-grid")}),window.rml.hooks.register("_attachment_fields_to_edit",function(e,t,o){var r=o('select[name="'+e+'"]'),i=function(e,t){for(var o="",r=0;r<20;r++)o+="<option></option>";return o}();r.append(i),r.one("click",function(){o.post(rmlOpts.ajaxUrl,{action:"rml_tree_content",nonce:rmlOpts.nonces.treeContent,type:"options",rml_folder:t}).done(function(e){r.html(e.data.options)})}),r.parents("#post-body").length&&r.triggerHandler("click")}),window.rml.hooks.register("ready/ML",function(t){if(t("body").hasClass("eml-grid")){var o=t("#wp-media-grid"),r=(t("#wpadminbar"),o.offset().top),e=function(){o.css("height",t(window).height()-t("#wpadminbar").height()-10)},i=function(){var e=t(window).scrollTop();o[0].style.top=(r<e?e:0)+"px"};t(window).on("resize",e),e(),t(window).on("scroll",i),i()}}),window.rml.hooks.register("tree/afterInit/list",function(e){window.rml.library.updateRestrictions(e(this).allInOneTree("active"),e(this))}),window.rml.library.warnDelete=function(){return confirm((commonL10n.warnDelete||"")+rmlOpts.lang.warnDelete)},window.rml.hooks.register("ready/ML",function(t){t(".rmlShortcutSpan").each(function(){var e=t(this).parents("tr").addClass("rmlIsShortcut").children("td.title").find(".media-icon");t('<div class="rml-shortcut-container"><i class="fa fa-share rml-shortcut-icon"></i></div>').appendTo(e).tooltipster({contentAsHTML:!0,content:'<div class="aio-tooltip-title">'+rmlOpts.lang.shortcut+'</div><div class="aio-tooltip-text">'+rmlOpts.lang.shortcutInfo+"</p>",delay:300,theme:"tooltipster-aio",maxWidth:300})})}),window.rml.hooks.register("newModal",function(e,t){var o,r=t(this).find(".media-menu"),i=t(this).parent().attr("id"),n="#"+i+" .attachment-filters-rml",a=!!r.data("rml");if(a?r.find(".aio-tree").remove():(r.append('<div class="separator"></div>'),r.data("rml",!0)),t(this).addClass("rml-media-modal"),t(this).find(".media-frame.hide-menu").removeClass("hide-menu"),!t(this).find(".media-button-reverse").is(":visible")){(o=t(".rml-container.rml-dummy").clone().appendTo(r)).removeClass("rml-dummy").addClass("rml-no-dummy"),window.rml.hooks.call("tree/prepare/modal",[o,a,n],this);var l=t.extend(!0,{},window.rml.defaultAioSettings,{container:{isListMode:!1,isModalMode:[r,t(this)],listMode:"grid",customSelectToChange:n,isSticky:!1,isResizable:!1,isWordpressModal:!0,theme:"wordpress wordpress-fixed"},movement:{selector:"#"+i+" ul.attachments > li"}});window.rml.hooks.call("tree/prepare/aioSettings",l,o),window.rml.hooks.call("tree/prepare/aioSettings/grid",l,o),window.rml.hooks.call("tree/prepare/aioSettings/modal",l,o),o.allInOneTree(l)}}),window.rml.hooks.register("general",function(t){setInterval(function(){t(".media-modal .attachments-browser").each(function(){var e=t(this).children("ul.attachments");t(this).is(":visible")&&!t(this).data("initialized")&&e.is(":visible")&&(t(this).data("initialized",!0),window.rml.hooks.call("newModal",t(this),t(this).parents(".media-modal")))}),t(".rml-shortcut-info:visible:not(.rml-shortcut-info-init)").each(function(){window.rml.library.showShortcutInfo(t(this))})},500)}),window.rml.hooks.register("tree/afterInit/modal",function(){var e=jQuery(this),t=window.rml.library.getBackboneOfAIO(e);if(t.view){var o=t.view.$(".attachment-filters-rml-loaded");if(0<o.length){var r=o.val();"all"!==r&&e.allInOneTree("active",r,!0)}}}),window.rml.hooks.register("ready/ML",function(e){var n,t=e(".wp-list-table.media tbody");t&&(t.sortable({disabled:!0,appendTo:"body",tolerance:"pointer",scrollSensitivity:50,placeholder:"ui-sortable-helper-wp-media-list",scrollSpeed:50,distance:10,cursor:"move",start:function(e,t){t.placeholder.height(t.helper[0].scrollHeight);var o=jQuery;n=o(".wp-list-table.media tbody tr:last").find('input[name="media[]"]').val()},update:function(e,t){var o,r,i=t.item.next();o=void 0!==i.html()&&i.find('input[name="media[]"]').val(),r=t.item.find('input[name="media[]"]').val(),window.rml.hooks.call("attachments/relocate",[window.rml.library.getObjectOfMediaPickerOrActive(),r,o,n,i,e,t])}}),window.rml.library.wpTableList=t)}),window.rml.hooks.register("ready",function(i){if(RMLFindDeep(window,"wp.media.view.Attachments")){var n=window.wp,e=n.media.view.Attachments;n.media.view.Attachments=n.media.view.Attachments.extend({initialize:function(){e.prototype.initialize.apply(this,arguments);var n=this.collection,a=this.collection.comparator,l="function"==typeof a;this.collection.comparator=function(e,t,o){if(void 0!==n.props.get("rml_folder")&&void 0!==e.attributes.rmlGalleryOrder&&void 0!==t.attributes.rmlGalleryOrder){var r=e.attributes.rmlGalleryOrder,i=t.attributes.rmlGalleryOrder;if(-1!=r&&-1!=i)return r<i?-1:i<r?1:0}if(l)return a.apply(this,arguments)}},initSortable:function(){var s=this.collection,d=this;!n.media.isTouchDevice&&this.options.sortable&&i.fn.sortable&&(this.options.sortable={appendTo:"body",tolerance:"pointer",scrollSensitivity:50,scrollSpeed:50,scroll:!0,distance:10,cursor:"move",start:function(e,t){t.item.data("lastId",s.models[s.models.length-1].id),t.item.data("sortableIndexStart",t.item.index())},update:function(e,t){var o,r=t.item.next(),i=t.item.data("id"),n=t.item.data("lastId");o=void 0!==r.html()&&r.data("id"),window.rml.hooks.call("attachments/relocate",[window.rml.library.getObjectOfMediaPickerOrActive(),i,o,n,r,e,t,d]);var a=s.at(t.item.data("sortableIndexStart")),l=s.comparator;delete s.comparator,s.remove(a,{silent:!0}),s.add(a,{silent:!0,at:t.item.index()}),s.comparator=l,s.trigger("reset",s),s.saveMenuOrder()}},e.prototype.initSortable.call(this))},refreshSortable:function(e){if(!n.media.isTouchDevice&&this.options.sortable&&i.fn.sortable){var t=this.collection,o=t.props.get("orderby"),r=e||"menuOrder"===o||!t.comparator;this.$el.sortable("option","disabled",!r)}}})}}),window.rml.hooks.register("attachments/relocate",function(t,e,o,r,i,n,a){var l={action:"rml_attachment_order",nonce:rmlOpts.nonces.attachmentOrder,folderId:t.attr("data-aio-id"),attachmentId:e,nextId:o,lastId:r};a.item.stop().fadeTo(100,.2),jQuery.post(rmlOpts.ajaxUrl,l,function(e){a.item.stop().fadeTo(100,1),window.rml.hooks.call("attachments/relocated",[t,l,e])})}),window.rml.hooks.register("grid/request",function(e,t,o,r,i){var n=!1,a=i(".rml-fid-"+r);if(!(r<0||!a||a.length<0||"1"!==a.attr("data-content-custom-order"))){try{(t.data.query.post_mime_type||t.data.query.monthnum||t.data.query.year)&&("all"!=t.data.query.post_mime_type||0<t.data.query.monthnum||0<t.data.query.year)&&(n=!0)}catch(e){}n?i("body").addClass("rml-view-gallery-filter-on"):i("body").removeClass("rml-view-gallery-filter-on"),t.data.query.order="ASC",t.data.query.orderby="rml";var l=i.param(t.data);e.data=l}}),window.rml.hooks.register("action/rml_attachment_order_by",function(e,t){e.orderby=t(this).parent().children("select").val()}),window.rml.hooks.register("action/done/rml_attachment_order_reset action/done/rml_attachment_order_by action/done/rml_attachment_order_by_last_custom",function(e,t,o){var r=e.method,i=e.action;"rml_attachment_order_by_last_custom"!==i&&o(".rml-fid-"+r).each(function(){o(this).attr("data-content-custom-order","rml_attachment_order_by"===i?"1":"0")}),o(".aio-tree-instance.rml-container").each(function(){o(this).allInOneTree("toolbarButton","refresh")})}),window.rml.hooks.register("ready/ML",function(o){o(document).on("click","form.rml-meta nav li",function(){var e=o(this).parents("form"),t=o(this).attr("data-key");o(this).parent().children().removeClass("nav-tab-active"),o(this).addClass("nav-tab-active"),e.find("table:visible").hide(),e.find('table[data-key="'+t+'"]').show(),window.rml.hooks.call("metadata/tab",[t,o(this)],e)})}),window.rml.hooks.register("metadata/save/failed usersettings/save/failed",function(e,t,o,r,i){window.rml.sweetAlert.enableButtons();var n="<li>"+e.data.errors.join("</li><li>")+"</li>";jQuery(".rml-meta-errors").html(n).show(),window.rml.library.sweetAlertPosition()}),window.rml.hooks.register("metadata/save/success usersettings/save/success",function(e,t,o,r,i){if(window.rml.sweetAlert.close(),e.data.newSlug){var n=t.folderId,a=e.data.newSlug,l=t.name;window.rml.hooks.call("folder/renamed",[n,l,a],this)}}),window.rml.hooks.register("metadata/loaded usersettings/loaded",function(e,t,r,o){var i=this;window.rml.sweetAlert({title:o("<div/>").text(r).html(),text:e,html:!0,confirmButtonText:rmlOpts.lang.save,cancelButtonText:rmlOpts.lang.close,closeOnConfirm:!1,showLoaderOnConfirm:!0,showCancelButton:!0},function(){var t=this;jQuery(".rml-meta-errors").hide(),window.rml.library.sweetAlertPosition();var e=jQuery("form.rml-meta").serializeArray(),o={};jQuery.each(e,function(e,t){o[t.name]=t.value}),o.action="rml_meta_save",o.nonce=rmlOpts.nonces.metaSave,jQuery.ajax({url:rmlOpts.ajaxUrl,type:"POST",data:o,success:function(e){"all"===o.folderId?window.rml.hooks.call("usersettings/save/"+(e.success?"success":"failed"),[e,o,t,""],i):window.rml.hooks.call("metadata/save/"+(e.success?"success":"failed"),[e,o,t,r],i)}})}),t&&setTimeout(function(){window.rml.hooks.call("metadata/dialog",[e,t,r],i)}.bind(this),500)}),window.rml.hooks.register("metadata/dialog",function(e,t,o,r){var i=r("body").hasClass("rml-view-gallery-filter-on"),n=r(".rml-meta-media-picker");n.length<=0||n.wpMediaPicker({label_add:rmlOpts.lang.metadata.coverImage.label_add,label_replace:rmlOpts.lang.metadata.coverImage.label_replace,label_remove:rmlOpts.lang.metadata.coverImage.label_remove,label_modal:rmlOpts.lang.metadata.coverImage.label_modal,label_button:rmlOpts.lang.metadata.coverImage.label_button,query:{post_mime_type:"image"},onShow:function(){r(".sweet-overlay,.sweet-alert").fadeOut()},onClose:function(){var e=this.wpWpMediaPicker.workflow.$el.parents(".rml-media-modal").removeClass("rml-media-modal");e.find(".rml-container").remove(),e.find(".attachments-browser").data("initialized",!1),r(".sweet-overlay,.sweet-alert").fadeIn(),i||r("body").removeClass("rml-view-gallery-filter-on")},htmlChange:function(){setTimeout(function(){n.parents("td").find(".spinner").remove(),r(".rml-meta-media-picker").parents("fieldset").show(),window.rml.library.sweetAlertPosition()}.bind(this),500)}})}),window.rml.hooks.register("ready",function(n){n(document).on("click",".rml-button-wipe, .sweet-alert a.actionbutton",function(e){if(window.confirm(rmlOpts.lang.wipe)){var t=n(this),o=t.attr("data-method"),r=n(this).attr("data-action");n(this).attr("id");t.html('<div class="spinner is-active" style="float: initial;margin: 0;"></div>').prop("disabled",!0),t.attr("disabled","disabled");var i={action:r,nonce:rmlOpts.nonces[n(this).attr("data-nonce-key")],method:o};window.rml.hooks.call("action/"+r,[i],t),jQuery.ajax({url:rmlOpts.ajaxUrl,data:i,method:t.attr("data-http-method")||"GET",success:function(e){window.rml.hooks.call("action/done/"+r,[i,e],t),t.html('<i class="fa fa-check"></i> '+(e.success?rmlOpts.lang.done:rmlOpts.lang.failed)).attr("disabled",!1)}})}return e.preventDefault(),!1})}),window.rml.hooks.register("action/done/rml_export",function(e,t,o){o("#rml_export_data textarea").get(0).value=t.data.str}),window.rml.hooks.register("action/rml_import",function(e,t){e.import=encodeURIComponent(t("#rml_import_data textarea").get(0).value)}),window.rml.hooks.register("ready/noMediaLibrary",function(e,t){var i=jQuery,n=i('<div class="rml-options"><nav><ul></ul></nav></div>').insertBefore(i('[for="rml_hide_upload_preview"]').parents("table").prev()).removeClass("rml-dummy"),o=i("<h2>Real Media Library</h2>").insertBefore(n),a=n.find("nav ul"),l=0;i('<a target="_blank" href="https://matthias-web.com/wordpress/real-media-library/add-ons/"><strong>Browse Add-Ons</strong></a>').insertAfter(o),i("table.form-table").each(function(){var e=i(this).prev(),t=e.html();if(void 0!==t&&0===t.indexOf("RealMediaLibrary")){t=t.split(":",2)[1];var o=i('<li class="nav-tab '+(0===l?"nav-tab-active":"")+'">'+t+"</li>").appendTo(a),r=i(this).appendTo(n);0===l&&r.show(),o.click(function(){n.children("table").hide(),a.find(".nav-tab-active").removeClass("nav-tab-active"),i(this).addClass("nav-tab-active"),r.show()}),e.remove(),l++}})});"use strict";window.rml.uploader={uploading:{},idFromSelect:function(){var e,t=jQuery(".attachments-filter-upload-chooser-fromSelect:visible");if(0<t.length&&0<(e=(t=t.next().children("select")).find('option[data-id="'+t.val()+'"]')).length)return{slug:e.attr("data-slug"),id:parseInt(t.val()),deny:""}},init:function(){var e=jQuery;void 0!==window.wp&&"function"==typeof wp.Uploader&&e.extend(wp.Uploader.prototype,{init:function(){window.rml.hooks.call("uploader/init",[],this),this.uploader.bind("FileFiltered",function(e,t){t.rmlFolderOpts=window.rml.uploader.idFromSelect()}),this.uploader.bind("FilesAdded",function(e,t){for(var o=0;o<t.length;o++){var r=window.rml.library.getObjectOfMediaPickerOrActive(),i=window.rml.uploader.settings(r,t[o],i);window.rml.uploader.uploading[t[o].attachment.cid]=i,t[o].rmlFolder=i.id,window.rml.uploader.prepareUpload(t[o],r,i),window.rml.hooks.call("uploader/FilesAddedSingle",[e,t[o],r,i],this)}}),this.uploader.bind("BeforeUpload",function(e,t){window.rml.hooks.call("uploader/BeforeUpload",[e,t],this);var o=e.settings.multipart_params;if(o.rmlFolder=t.rmlFolder,!o.rmlFolder){var r=window.rml.library.getObjectOfMediaPickerOrActive(),i=window.rml.uploader.settings(r,t,i);o.rmlFolder=i.id}}),this.uploader.bind("UploadProgress",function(e,t){window.rml.hooks.call("uploader/UploadProgress",[e,t],this),window.rml.uploader.progress(e,t)}),this.uploader.bind("UploadComplete",function(e,t){e.splice(),e.total.reset();try{window.rml.library.refreshAllCounts()}catch(e){}})},success:function(e){window.rml.hooks.call("upload/success",[e],this),window.rml.uploader.success(e)}})},success:function(e){var t=jQuery,o=t(".rml-uploading-"+e.cid);if(0<o.length){var r={action:"bulk_move",ids:[e.id],to:parseInt(o.attr("data-id"))},i=o.parents(".rml-container.rml-no-dummy"),n=i.allInOneTree("active").attr("data-aio-id"),a=e.get("rmlGalleryOrder"),l=-1===a?0:a,s=window.rml.library.getBackboneOfAIO(i);n===o.attr("data-id")&&s.view&&s.view.collection.add(e,{at:l}),o.find(".percent").css("width","100%"),o.find(".read_percent").html("100%"),o.remove(),window.rml.hooks.call("upload/success/moved",[e,r],this),jQuery(".rml-uploading").find(".rml-uploading-item").length<=0&&(i.allInOneTree("toolbarButton","refresh"),t(".rml-uploading").stop().slideUp(),window.rml.hooks.call("upload/success/movedAll",[],this))}},progress:function(e,t){var o=jQuery;t.percent-=1,t.percent<0&&(t.percent=0);var r=o(".rml-uploading-"+t.id),i=t.percent+"%";0<r.length&&(r.find(".percent").css("width",i),r.find(".read_percent").html(i),98<t.percent&&r.find(".percent").addClass("finish"))},settings:function(e,t){if("object"==typeof t.rmlFolderOpts)return t.rmlFolderOpts;var o=jQuery,r={slug:null,name:"",id:null,deny:""};if(0<e.length)r.slug=e.attr("data-slug"),void 0===r.slug&&(r.slug="/"),r.id=parseInt(e.attr("data-aio-id")),-1<e.attr("data-restrictions").indexOf("ins")?(r.slug="/",r.id=rmlOpts.root,r.deny='<div class="warnings">                    <span class="deny-gallery">'+rmlOpts.lang.toolbarItems.restrictions.ins+"</span>                </div>"):window.rml.hooks.call("uploadCheck",[r,e.attr("data-aio-type"),t],e);else{r.slug="/";var i=o(".attachment-filters.attachment-filters-rml");0<i.length&&"all"!=i.val()?r.id=parseInt(i.val()):r.id=rmlOpts.root}return r.id=isNaN(r.id)?"":r.id,r},prepareUpload:function(e,t,o){var r=jQuery,i=r('<div class="rml-uploading-item rml-uploading-'+e.attachment.cid+" rml-uploading-"+e.id+'""                    data-slug="'+o.slug+'"                     data-id="'+o.id+'">                <div class="left"></div>                <div class="right">                    <div class="filename">'+e.name+'</div>                    <div class="folder">                        <i class="fa fa-folder-o"></i> '+o.slug+"<br />                        "+window.rml.uploader.humanFileSize(e.size,!0)+' - <span class="read_percent">0%</span>                    </div>                    <div class="bar">                        <div class="percent"></div>                    </div>                    '+o.deny+'                </div>                <div class="rml-fix"></div>            </div>').appendTo(".rml-uploading-list");r(".rml-uploading").show();var n=r(new Image).appendTo(i.find(".left"));if(0==r(".rml-hide-upload-preview-1").length){var a=new mOxie.Image;a.onload=function(){a.downsize(48,48),n.prop("src",a.getAsDataURL())},a.load(e.getSource())}},humanFileSize:function(e,t){var o=t?1e3:1024;if(Math.abs(e)<o)return e+" B";for(var r=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=-1;e/=o,++i,Math.abs(e)>=o&&i<r.length-1;);return e.toFixed(1)+" "+r[i]},secondsFormat:function(e){var t=Math.floor(e/3600),o=Math.floor((e-3600*t)/60),r=e-3600*t-60*o;return(t<10?"0"+t:t)+":"+(o<10?"0"+o:o)+":"+(r<10?"0"+r:r)}},window.rml.hooks.register("uploader/UploadProgress",function(e,t){jQuery(".rml-uploading-details-remain-bytes strong").html(window.rml.uploader.humanFileSize(e.total.bytesPerSec,!0)),jQuery(".rml-uploading-details-remain-loaded strong").html(window.rml.uploader.humanFileSize(e.total.loaded,!0)),jQuery(".rml-uploading-details-remain-loaded span").html(window.rml.uploader.humanFileSize(e.total.size,!0));var o=Math.floor((e.total.size-e.total.loaded)/e.total.bytesPerSec),r=e.total.queued,i=2<r?RMLFormat(rmlOpts.lang.uploadRemainFiles,r-2):"",n=jQuery(".rml-uploading-queue");i?n.html(i).show():n.hide().html(""),jQuery(".rml-uploading-details-remain-time strong").html(window.rml.uploader.secondsFormat(o))}),window.rml.hooks.register("general",function(r){setInterval(function(){r(".attachments-filter-upload-chooser").each(function(){var e=r(this).data("initialized"),t=r(this),o=r(this).next().children("select");e||(r(this).data("initialized",!0),0<t.parents(".attachments-browser").length?t.html(rmlOpts.lang.uploaderUsesLeftTree).show():(t.addClass("attachments-filter-upload-chooser-fromSelect"),0<t.parents(".uploader-inline-content").length&&(t.show(),t.next().show(),r.post(rmlOpts.ajaxUrl,{action:"rml_options_default",nonce:rmlOpts.nonces.treeContent}).done(function(e){e.success&&o.html(e.data)}))))})},500)}),window.rml.hooks.register("ready",function(a){if(a("body").hasClass("media-new-php")){if(prepareMediaItemInit){var o=prepareMediaItemInit;prepareMediaItemInit=function(e){if(o.apply(this,arguments),e.rmlFolderHTML){var t=a("#media-item-"+e.id).find(".filename");0<t.length&&t.after(e.rmlFolderHTML)}}}setTimeout(function(){uploader&&uploader.bind("BeforeUpload",function(e,t){var o=e.settings.multipart_params,r="/";if(o.rmlFolder=t.rmlFolder,!o.rmlFolder){var i=window.rml.uploader.idFromSelect();o.rmlFolder=i?i.id:-1,r=i?i.slug.toUpperCase():r}var n=a("#media-item-"+t.id).find(".filename");0<n.length&&(t.rmlFolderHTML='<div class="media-item-rml-folder">'+r+"</div>",n.after(t.rmlFolderHTML))})}.bind(this),500)}}),window.rml.hooks.register("uploadCheck",function(e,t,o,r){if("1"==t)e.slug="/",e.id=rmlOpts.root,e.deny='<div class="warnings">            <span class="deny-collection">'+rmlOpts.lang.uploadingCollection+"</span>        </div>";else if("2"==t){var i=o.name.substr(o.name.lastIndexOf(".")+1).toLowerCase();r.inArray(i,["jpg","jpeg","jpe","gif","png"])<=-1&&(e.slug="/",e.id=rmlOpts.root,e.deny='<div class="warnings">                <span class="deny-gallery">'+rmlOpts.lang.uploadingGallery+"</span>            </div>")}}),window.rml.hooks.register("tree/prepare/aioSettings",function(e,o){rmlOpts.hasUserSettings&&e.toolbarButtons.items.unshift({name:"settings",content:'<i class="fa fa-cog"></i>',onClick:function(){var t=o(this);window.rml.sweetAlert({title:"",text:'<div class="spinner is-active"></div><br /><br />',html:!0,showConfirmButton:!1}),o.ajax({url:rmlOpts.ajaxUrl,data:{action:"rml_meta_content",nonce:rmlOpts.nonces.metaContent,folderId:""},success:function(e){window.rml.hooks.call("usersettings/loaded",[e,"",rmlOpts.lang.toolbarItems.settings.toolTipTitle],t)}})},toolTipTitle:rmlOpts.lang.toolbarItems.settings.toolTipTitle,toolTipText:rmlOpts.lang.toolbarItems.settings.toolTipText})}),jQuery(function(){var O,T,k,n,y,b,a,m,C,x;window.sweetAlert||"inbound-email"===RMLUrlParams().post_type||(O=window,T=document,function n(a,l,s){function d(o,e){if(!l[o]){if(!a[o]){var t="function"==typeof require&&require;if(!e&&t)return t(o,!0);if(c)return c(o,!0);var r=new Error("Cannot find module '"+o+"'");throw r.code="MODULE_NOT_FOUND",r}var i=l[o]={exports:{}};a[o][0].call(i.exports,function(e){var t=a[o][1][e];return d(t||e)},i,i.exports,n,a,l,s)}return l[o].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)d(s[e]);return d}({1:[function(e,t,o){var m,u,i,p,r=function(e){return e&&e.__esModule?e:{default:e}},f=e("./modules/handle-dom"),h=e("./modules/utils"),w=e("./modules/handle-swal-dom"),v=e("./modules/handle-click"),g=r(e("./modules/handle-key")),y=r(e("./modules/default-params")),b=r(e("./modules/set-params"));o.default=i=p=function(){function e(e){var t=o;return t[e]===k?y.default[e]:t[e]}var o=arguments[0];if(f.addClass(T.body,"stop-scrolling"),w.resetInput(),o===k)return h.logStr("SweetAlert expects at least 1 attribute!"),!1;var t=h.extend({},y.default);switch(typeof o){case"string":t.title=o,t.text=arguments[1]||"",t.type=arguments[2]||"";break;case"object":if(o.title===k)return h.logStr('Missing "title" argument!'),!1;for(var r in t.title=o.title,y.default)t[r]=e(r);t.confirmButtonText=t.showCancelButton?"Confirm":y.default.confirmButtonText,t.confirmButtonText=e("confirmButtonText"),t.doneFunction=arguments[1]||null;break;default:return h.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof o),!1}b.default(t),w.fixVerticalPosition(),w.openModal(arguments[1]);for(var i=w.getModal(),n=i.querySelectorAll("button"),a=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],l=function(e){return v.handleButton(e,t,i)},s=0;s<n.length;s++)for(var d=0;d<a.length;d++){var c=a[d];n[s][c]=l}w.getOverlay().onclick=l,m=O.onkeydown,O.onkeydown=function(e){return g.default(e,t,i)},O.onfocus=function(){setTimeout(function(){u!==k&&(u.focus(),u=k)},0)},p.enableButtons()},i.setDefaults=p.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");h.extend(y.default,e)},i.close=p.close=function(){var t=w.getModal();f.fadeOut(w.getOverlay(),5),f.fadeOut(t,5),f.removeClass(t,"showSweetAlert"),f.addClass(t,"hideSweetAlert"),f.removeClass(t,"visible");var e=t.querySelector(".sa-icon.sa-success");f.removeClass(e,"animate"),f.removeClass(e.querySelector(".sa-tip"),"animateSuccessTip"),f.removeClass(e.querySelector(".sa-long"),"animateSuccessLong");var o=t.querySelector(".sa-icon.sa-error");f.removeClass(o,"animateErrorIcon"),f.removeClass(o.querySelector(".sa-x-mark"),"animateXMark");var r=t.querySelector(".sa-icon.sa-warning");return f.removeClass(r,"pulseWarning"),f.removeClass(r.querySelector(".sa-body"),"pulseWarningIns"),f.removeClass(r.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=t.getAttribute("data-custom-class");f.removeClass(t,e)},300),f.removeClass(T.body,"stop-scrolling"),O.onkeydown=m,O.previousActiveElement&&O.previousActiveElement.focus(),u=k,clearTimeout(t.timeout),!0},i.showInputError=p.showInputError=function(e){var t=w.getModal(),o=t.querySelector(".sa-input-error");f.addClass(o,"show");var r=t.querySelector(".sa-error-container");f.addClass(r,"show"),r.querySelector("p").innerHTML=e,setTimeout(function(){i.enableButtons()},1),t.querySelector("input").focus()},i.resetInputError=p.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=w.getModal(),o=t.querySelector(".sa-input-error");f.removeClass(o,"show");var r=t.querySelector(".sa-error-container");f.removeClass(r,"show")},i.disableButtons=p.disableButtons=function(e){var t=w.getModal(),o=t.querySelector("button.confirm"),r=t.querySelector("button.cancel");o.disabled=!0,r.disabled=!0},i.enableButtons=p.enableButtons=function(e){var t=w.getModal(),o=t.querySelector("button.confirm"),r=t.querySelector("button.cancel");o.disabled=!1,r.disabled=!1},void 0!==O?O.sweetAlert=O.swal=i:h.logStr("SweetAlert is a frontend module!"),t.exports=o.default},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,o){o.default={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1},t.exports=o.default},{}],3:[function(e,t,o){var v=e("./utils"),g=(e("./handle-swal-dom"),e("./handle-dom")),y=function(e,t){var o=!0;g.hasClass(e,"show-input")&&((o=e.querySelector("input").value)||(o="")),t.doneFunction(o),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},b=function(e,t){var o=String(t.doneFunction).replace(/\s/g,"");"function("===o.substring(0,9)&&")"!==o.substring(9,10)&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};o.default={handleButton:function(e,t,o){function r(e){d&&t.confirmButtonColor&&(s.style.backgroundColor=e)}var i,n,a,l=e||O.event,s=l.target||l.srcElement,d=-1!==s.className.indexOf("confirm"),c=-1!==s.className.indexOf("sweet-overlay"),m=g.hasClass(o,"visible"),u=t.doneFunction&&"true"===o.getAttribute("data-has-done-function");switch(d&&t.confirmButtonColor&&(i=t.confirmButtonColor,n=v.colorLuminance(i,-.04),a=v.colorLuminance(i,-.14)),l.type){case"mouseover":r(n);break;case"mouseout":r(i);break;case"mousedown":r(a);break;case"mouseup":r(n);break;case"focus":var p=o.querySelector("button.confirm"),f=o.querySelector("button.cancel");d?f.style.boxShadow="none":p.style.boxShadow="none";break;case"click":var h=o===s,w=g.isDescendant(o,s);if(!h&&!w&&m&&!t.allowOutsideClick)break;d&&u&&m?y(o,t):u&&m||c?b(o,t):g.isDescendant(o,s)&&"BUTTON"===s.tagName&&sweetAlert.close()}},handleConfirm:y,handleCancel:b},t.exports=o.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(e,t,o){var r=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},i=function(e){e.style.opacity="",e.style.display="block"},n=function(e){e.style.opacity="",e.style.display="none"};o.hasClass=r,o.addClass=function(e,t){r(e,t)||(e.className+=" "+t)},o.removeClass=function(e,t){var o=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(r(e,t)){for(;0<=o.indexOf(" "+t+" ");)o=o.replace(" "+t+" "," ");e.className=o.replace(/^\s+|\s+$/g,"")}},o.escapeHtml=function(e){var t=T.createElement("div");return t.appendChild(T.createTextNode(e)),t.innerHTML},o._show=i,o.show=function(e){if(e&&!e.length)return i(e);for(var t=0;t<e.length;++t)i(e[t])},o._hide=n,o.hide=function(e){if(e&&!e.length)return n(e);for(var t=0;t<e.length;++t)n(e[t])},o.isDescendant=function(e,t){for(var o=t.parentNode;null!==o;){if(o===e)return!0;o=o.parentNode}return!1},o.getTopMargin=function(e){e.style.left="-9999px",e.style.display="block";var t,o=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((o+t)/2)+"px"},o.fadeIn=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var o=+new Date,r=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-o)/100,o=+new Date,+e.style.opacity<1&&setTimeout(r,t)});r()}e.style.display="block"},o.fadeOut=function(e,t){t=t||16,e.style.opacity=1;var o=+new Date,r=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-o)/100,o=+new Date,0<+e.style.opacity?setTimeout(r,t):e.style.display="none"});r()},o.fireClick=function(e){if("function"==typeof MouseEvent){var t=new MouseEvent("click",{view:O,bubbles:!1,cancelable:!0});e.dispatchEvent(t)}else if(T.createEvent){var o=T.createEvent("MouseEvents");o.initEvent("click",!1,!1),e.dispatchEvent(o)}else T.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},o.stopEventPropagation=function(e){"function"==typeof e.stopPropagation?(e.stopPropagation(),e.preventDefault()):O.event&&O.event.hasOwnProperty("cancelBubble")&&(O.event.cancelBubble=!0)}},{}],5:[function(e,t,o){var m=e("./handle-dom"),u=e("./handle-swal-dom");o.default=function(e,t,o){var r=e||O.event,i=r.keyCode||r.which,n=o.querySelector("button.confirm"),a=o.querySelector("button.cancel"),l=o.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(i)){for(var s=r.target||r.srcElement,d=-1,c=0;c<l.length;c++)if(s===l[c]){d=c;break}9===i?(s=-1===d?n:d===l.length-1?l[0]:l[d+1],m.stopEventPropagation(r),s.focus(),t.confirmButtonColor&&u.setFocusStyle(s,t.confirmButtonColor)):13===i?("INPUT"===s.tagName&&(s=n).focus(),s=-1===d?n:k):27===i&&!0===t.allowEscapeKey?(s=a,m.fireClick(s,r)):s=k}},t.exports=o.default},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(e,t,o){var r=function(e){return e&&e.__esModule?e:{default:e}},i=e("./utils"),n=e("./handle-dom"),a=r(e("./default-params")),l=r(e("./injected-html")),s=function(){var e=T.createElement("div");for(e.innerHTML=l.default;e.firstChild;)T.body.appendChild(e.firstChild)},d=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=T.querySelector(".sweet-alert");return e||(s(),e=d()),e}),c=function(){var e=d();return e?e.querySelector("input"):void 0},m=function(){return T.querySelector(".sweet-overlay")},u=function(e){if(e&&13===e.keyCode)return!1;var t=d(),o=t.querySelector(".sa-input-error");n.removeClass(o,"show");var r=t.querySelector(".sa-error-container");n.removeClass(r,"show")};o.sweetAlertInitialize=s,o.getModal=d,o.getOverlay=m,o.getInput=c,o.setFocusStyle=function(e,t){var o=i.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+o+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},o.openModal=function(e){var t=d();n.fadeIn(m(),10),n.show(t),n.addClass(t,"showSweetAlert"),n.removeClass(t,"hideSweetAlert"),O.previousActiveElement=T.activeElement,t.querySelector("button.confirm").focus(),setTimeout(function(){n.addClass(t,"visible")},500);var o=t.getAttribute("data-timer");if("null"!==o&&""!==o){var r=e;t.timeout=setTimeout(function(){r&&"true"===t.getAttribute("data-has-done-function")?r(null):sweetAlert.close()},o)}},o.resetInput=function(){var e=d(),t=c();n.removeClass(e,"show-input"),t.value=a.default.inputValue,t.setAttribute("type",a.default.inputType),t.setAttribute("placeholder",a.default.inputPlaceholder),u()},o.resetInputError=u,o.fixVerticalPosition=function(){d().style.marginTop=n.getTopMargin(d())}},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,o){o.default='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>',t.exports=o.default},{}],8:[function(e,t,o){var h=e("./utils"),w=e("./handle-swal-dom"),v=e("./handle-dom"),g=["error","warning","info","success","input","prompt"];o.default=function(i){var n=w.getModal(),e=n.querySelector("h2"),t=n.querySelector("p"),o=n.querySelector("button.cancel"),r=n.querySelector("button.confirm");if(e.innerHTML=i.html?i.title:v.escapeHtml(i.title).split("\n").join("<br>"),t.innerHTML=i.html?i.text:v.escapeHtml(i.text||"").split("\n").join("<br>"),i.text&&v.show(t),i.customClass)v.addClass(n,i.customClass),n.setAttribute("data-custom-class",i.customClass);else{var a=n.getAttribute("data-custom-class");v.removeClass(n,a),n.setAttribute("data-custom-class","")}if(v.hide(n.querySelectorAll(".sa-icon")),i.type&&!h.isIE8()){var l=function(){for(var e=!1,t=0;t<g.length;t++)if(i.type===g[t]){e=!0;break}if(!e)return logStr("Unknown alert type: "+i.type),{v:!1};var o=k;-1!==["success","error","warning","info"].indexOf(i.type)&&(o=n.querySelector(".sa-icon.sa-"+i.type),v.show(o));var r=w.getInput();switch(i.type){case"success":v.addClass(o,"animate"),v.addClass(o.querySelector(".sa-tip"),"animateSuccessTip"),v.addClass(o.querySelector(".sa-long"),"animateSuccessLong");break;case"error":v.addClass(o,"animateErrorIcon"),v.addClass(o.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":v.addClass(o,"pulseWarning"),v.addClass(o.querySelector(".sa-body"),"pulseWarningIns"),v.addClass(o.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":r.setAttribute("type",i.inputType),r.value=i.inputValue,r.setAttribute("placeholder",i.inputPlaceholder),v.addClass(n,"show-input"),setTimeout(function(){r.focus(),r.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof l)return l.v}if(i.imageUrl){var s=n.querySelector(".sa-icon.sa-custom");s.style.backgroundImage="url("+i.imageUrl+")",v.show(s);var d=80,c=80;if(i.imageSize){var m=i.imageSize.toString().split("x"),u=m[0],p=m[1];u&&p?(d=u,c=p):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+i.imageSize)}s.setAttribute("style",s.getAttribute("style")+"width:"+d+"px; height:"+c+"px")}n.setAttribute("data-has-cancel-button",i.showCancelButton),i.showCancelButton?o.style.display="inline-block":v.hide(o),n.setAttribute("data-has-confirm-button",i.showConfirmButton),i.showConfirmButton?r.style.display="inline-block":v.hide(r),i.cancelButtonText&&(o.innerHTML=v.escapeHtml(i.cancelButtonText)),i.confirmButtonText&&(r.innerHTML=v.escapeHtml(i.confirmButtonText)),i.confirmButtonColor&&(r.style.backgroundColor=i.confirmButtonColor,r.style.borderLeftColor=i.confirmLoadingButtonColor,r.style.borderRightColor=i.confirmLoadingButtonColor,w.setFocusStyle(r,i.confirmButtonColor)),n.setAttribute("data-allow-outside-click",i.allowOutsideClick);var f=!!i.doneFunction;n.setAttribute("data-has-done-function",f),i.animation?"string"==typeof i.animation?n.setAttribute("data-animation",i.animation):n.setAttribute("data-animation","pop"):n.setAttribute("data-animation","none"),n.setAttribute("data-timer",i.timer)},t.exports=o.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(e,t,o){o.extend=function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},o.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},o.isIE8=function(){return O.attachEvent&&!O.addEventListener},o.logStr=function(e){O.console&&O.console.log("SweetAlert: "+e)},o.colorLuminance=function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var o,r,i="#";for(r=0;r<3;r++)o=parseInt(e.substr(2*r,2),16),i+=("00"+(o=Math.round(Math.min(Math.max(0,o+o*t),255)).toString(16))).substr(o.length);return i}},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)),y=jQuery,b=y(window),a=window.document,m=y(a),C=function(){for(var e=3,t=a.createElement("div"),o=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",o[0];);return 4<e?e:void 0}(),x=function(){var e=void 0!==window.pageXOffset?window.pageXOffset:"CSS1Compat"==a.compatMode?window.document.documentElement.scrollLeft:window.document.body.scrollLeft,t=void 0!==window.pageYOffset?window.pageYOffset:"CSS1Compat"==a.compatMode?window.document.documentElement.scrollTop:window.document.body.scrollTop;void 0===x.x&&(x.x=e,x.y=t),void 0===x.distanceX?(x.distanceX=e,x.distanceY=t):(x.distanceX=e-x.x,x.distanceY=t-x.y);var o=x.x-e,r=x.y-t;x.direction=o<0?"right":0<o?"left":r<=0?"down":0<r?"up":"first",x.x=e,x.y=t},b.on("scroll",x),y.fn.style=function(e){if(!e)return null;var o,r=y(this),i=r.clone().css("display","none");i.find("input:radio").attr("name","copy-"+Math.floor(100*Math.random()+1)),r.after(i);var n=function(e,t){var o;return e.currentStyle?o=e.currentStyle[t.replace(/-\w/g,function(e){return e.toUpperCase().replace("-","")})]:window.getComputedStyle&&(o=a.defaultView.getComputedStyle(e,null).getPropertyValue(t)),/margin/g.test(t)?parseInt(o)===r[0].offsetLeft?o:"auto":o};return"string"==typeof e?o=n(i[0],e):(o={},y.each(e,function(e,t){o[t]=n(i[0],t)})),i.remove(),o||null},y.fn.extend({hcSticky:function(e){return 0==this.length?this:(this.pluginOptions("hcSticky",{top:0,bottom:0,bottomEnd:0,innerTop:0,innerSticker:null,className:"sticky",wrapperClassName:"wrapper-sticky",stickTo:null,responsive:!0,followScroll:!0,offResolutions:null,onStart:y.noop,onStop:y.noop,on:!0,fn:null},e||{},{reinit:function(){y(this).hcSticky()},stop:function(){y(this).pluginOptions("hcSticky",{on:!1}).each(function(){var e=y(this),t=e.pluginOptions("hcSticky"),o=e.parent("."+t.wrapperClassName),r=e.offset().top-o.offset().top;e.css({position:"absolute",top:r,bottom:"auto",left:"auto",right:"auto"}).removeClass(t.className)})},off:function(){y(this).pluginOptions("hcSticky",{on:!1}).each(function(){var e=y(this),t=e.pluginOptions("hcSticky"),o=e.parent("."+t.wrapperClassName);e.css({position:"relative",top:"auto",bottom:"auto",left:"auto",right:"auto"}).removeClass(t.className),o.css("height","auto")})},on:function(){y(this).each(function(){y(this).pluginOptions("hcSticky",{on:!0,remember:{offsetTop:b.scrollTop()}}).hcSticky()})},destroy:function(){var e=y(this),t=e.pluginOptions("hcSticky"),o=e.parent("."+t.wrapperClassName);e.removeData("hcStickyInit").css({position:o.css("position"),top:o.css("top"),bottom:o.css("bottom"),left:o.css("left"),right:o.css("right")}).removeClass(t.className),b.off("resize",t.fn.resize).off("scroll",t.fn.scroll),e.unwrap()}}),e&&void 0!==e.on&&(e.on?this.hcSticky("on"):this.hcSticky("off")),"string"==typeof e?this:this.each(function(){var e,t,o,r,i,n,u=y(this),p=u.pluginOptions("hcSticky"),f=0<(n=u.parent("."+p.wrapperClassName)).length&&(n.css({height:u.outerHeight(!0),width:(i=n.style("width"),0<=i.indexOf("%")||"auto"==i?("border-box"==u.css("box-sizing")||"border-box"==u.css("-moz-box-sizing")?u.css("width",n.width()):u.css("width",n.width()-parseInt(u.css("padding-left")-parseInt(u.css("padding-right")))),i):u.outerWidth(!0))}),n)||(t=u.style(["width","margin-left","left","right","top","bottom","float","display"]),o=u.css("display"),r=y("<div>",{class:p.wrapperClassName}).css({display:o,height:u.outerHeight(!0),width:0<=t.width.indexOf("%")||"auto"==t.width&&"inline-block"!=o&&"inline"!=o?(u.css("width",parseFloat(u.css("width"))),t.width):"auto"!=t.width||"inline-block"!=o&&"inline"!=o?"auto"==t["margin-left"]?u.outerWidth():u.outerWidth(!0):u.width(),margin:t["margin-left"]?"auto":null,position:(e=u.css("position"),"static"==e?"relative":e),float:t.float||null,left:t.left,right:t.right,top:t.top,bottom:t.bottom,"vertical-align":"top"}),u.wrap(r),7===C&&0===y("head").find("style#hcsticky-iefix").length&&y('<style id="hcsticky-iefix">.'+p.wrapperClassName+" {zoom: 1;}</style>").appendTo("head"),u.parent());if(!u.data("hcStickyInit")){u.data("hcStickyInit",!0);var h=!(!p.stickTo||!("document"==p.stickTo||p.stickTo.nodeType&&9==p.stickTo.nodeType||"object"==typeof p.stickTo&&p.stickTo instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document))),w=p.stickTo?h?m:"string"==typeof p.stickTo?y(p.stickTo):p.stickTo:f.parent();u.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),b.load(function(){u.outerHeight(!0)>w.height()&&(f.css("height",u.outerHeight(!0)),u.hcSticky("reinit"))});var v=function(e){u.hasClass(p.className)||(e=e||{},u.css({position:"fixed",top:e.top||0,left:e.left||f.offset().left}).addClass(p.className),p.onStart.apply(u[0]),f.addClass("sticky-active"))},g=function(e){(e=e||{}).position=e.position||"absolute",e.top=e.top||0,e.left=e.left||0,("fixed"==u.css("position")||parseInt(u.css("top"))!=e.top)&&(u.css({position:e.position,top:e.top,left:e.left}).removeClass(p.className),p.onStop.apply(u[0]),f.removeClass("sticky-active"))},a=!1,l=!1,s=function(){if(c(),d(),p.on){if(p.responsive){l||(l=u.clone().attr("style","").css({visibility:"hidden",height:0,overflow:"hidden",paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0}),f.after(l));var e=f.style("width"),t=l.style("width");"auto"==t&&"auto"!=e&&(t=parseInt(u.css("width"))),t!=e&&f.width(t),a&&clearTimeout(a),a=setTimeout(function(){a=!1,l.remove(),l=!1},250)}if("fixed"==u.css("position")?u.css("left",f.offset().left):u.css("left",0),u.outerWidth(!0)!=f.width()){var o="border-box"==u.css("box-sizing")||"border-box"==u.css("-moz-box-sizing")?f.width():f.width()-parseInt(u.css("padding-left"))-parseInt(u.css("padding-right"));o=o-parseInt(u.css("margin-left"))-parseInt(u.css("margin-right")),u.css("width",o)}}};u.pluginOptions("hcSticky",{fn:{scroll:function(e){if(p.on&&u.is(":visible")){if(u.outerHeight(!0)>=w.height())return void g();var t,o=p.innerSticker?y(p.innerSticker).position().top:p.innerTop?p.innerTop:0,r=f.offset().top,i=w.height()-p.bottomEnd+(h?0:r),n=f.offset().top-p.top+o,a=u.outerHeight(!0)+p.bottom,l=b.height(),s=b.scrollTop(),d=u.offset().top,c=d-s;if(void 0!==p.remember&&p.remember){var m=d-p.top-o;return void(l<a-o&&p.followScroll?m<s&&s+l<=m+u.height()&&(p.remember=!1):p.remember.offsetTop>m?s<=m&&(v({top:p.top-o}),p.remember=!1):m<=s&&(v({top:p.top-o}),p.remember=!1))}n<s?i+p.bottom-(p.followScroll&&l<a?0:p.top)<=s+a-o-(l-(n-o)<a-o&&p.followScroll&&0<(t=a-l-o)?t:0)?g({top:i-a+p.bottom-r}):l<a-o&&p.followScroll?c+a<=l?"down"==x.direction?v({top:l-a}):c<0&&"fixed"==u.css("position")&&g({top:d-(n+p.top-o)-x.distanceY}):"up"==x.direction&&d>=s+p.top-o?v({top:p.top-o}):"down"==x.direction&&l<d+a&&"fixed"==u.css("position")&&g({top:d-(n+p.top-o)-x.distanceY}):v({top:p.top-o}):g()}},resize:s}});var d=function(){if(p.offResolutions){y.isArray(p.offResolutions)||(p.offResolutions=[p.offResolutions]);var o=!0;y.each(p.offResolutions,function(e,t){t<0?b.width()<-1*t&&(o=!1,u.hcSticky("off")):b.width()>t&&(o=!1,u.hcSticky("off"))}),o&&!p.on&&u.hcSticky("on")}};d(),b.on("resize",s);var c=function(){var o=!1;null!=y._data(window,"events").scroll&&y.each(y._data(window,"events").scroll,function(e,t){t.handler==p.fn.scroll&&(o=!0)}),o||(p.fn.scroll(!0),b.on("scroll",p.fn.scroll))};c()}}))}}),(n=jQuery).fn.extend({pluginOptions:function(t,o,r,i){return this.data(t)||this.data(t,{}),t&&void 0===o?this.data(t).options:"object"==typeof(r=r||o||{})||void 0===r?this.each(function(){var e=n(this);e.data(t).options?e.data(t,n.extend(e.data(t),{options:n.extend(e.data(t).options,r||{})})):(e.data(t,{options:n.extend(o,r||{})}),i&&(e.data(t).commands=i))}):"string"==typeof r?this.each(function(){n(this).data(t).commands[r].call(this)}):this}})}),window.rml.hooks.call("general"),jQuery(document).ready(function(){if(rmlOpts){RMLFindDeep(window,"wp.media")&&window.rml.uploader.init();var e,c=jQuery,t="list"==rmlOpts.listMode;if(window.rml.sweetAlert=sweetAlert,("ontouchstart"in window||window.navigator.maxTouchPoints)&&c("body").addClass("rml-touch"),c(document).on("click",".rml-migration-dismiss",function(e){var t=c(this).attr("data-build");return jQuery.post(rmlOpts.ajaxUrl,{action:"rml_migrate_dismiss",nonce:rmlOpts.nonces.migrateDismiss,build:t}),c(this).parents(".notice").slideUp(),e.preventDefault(),!1}),window.rml.hooks.call("ready"),window.rml.defaultAioSettings={container:{listMode:rmlOpts.listMode,isMediaLibrary:!1,isModalMode:!1,tooltipsterSettings:{speed:0},theme:"wordpress",onRearrangeRelocate:function(e,t,o,r,i,n,a,l){l=arguments;jQuery.post(rmlOpts.ajaxUrl,{action:"rml_relocate",nonce:rmlOpts.nonces.bulkSort,id:e,parent:t,nextId:i},function(e){e.success?(o.resolve(),window.rml.hooks.call("folder/relocated",l,this)):(o.reject(),sweetAlert("Oops...",e.data,"error"))}.bind(this))},doNotUseSaveInRearrange:!0},toolbarButtons:{items:[{name:"order",content:'<i class="fa fa-arrows"></i>',labelBack:rmlOpts.lang.done,onPreDisable:function(){var e=c(this).allInOneTree("active");return e&&"2"!==e.attr("data-content-custom-order")},onAllowed:function(){if(c("body").hasClass("rml-view-gallery-filter-on"))return window.rml.sweetAlert("Oops...",rmlOpts.lang.orderFailedFilterOn,"error"),!1;var e=c(this).allInOneTree("active"),t=e.attr("data-content-custom-order"),o=function(e){sweetAlert({title:rmlOpts.lang.sortConfirmTitle,text:rmlOpts.lang.sortConfirmText,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:rmlOpts.lang.sortConfirmTitle,cancelButtonText:rmlOpts.lang.cancel,imageUrl:rmlOpts.pluginUrl+"assets/image/find-details.png",html:!0},e)}.bind(this),r=c(this).allInOneTree("option","container.listMode");return"list"===r&&"1"!==rmlOpts.wpListModeOrder&&void 0!==window.rml.library.wpTableList?("1"!==t?o(function(){window.location.href=rmlOpts.wpListModeOrder}):window.location.href=rmlOpts.wpListModeOrder,!1):("list"!==r&&"1"!==t&&o(function(){e.attr("data-content-custom-order","1"),c(this).allInOneTree("toolbarButton","refresh")}.bind(this)),!0)},onClick:function(){var e=window.rml.library.getBackboneOfAIO(c(this));if(c(this).allInOneTree("movement",!1),e.view)e.view.attachments.refreshSortable(!0);else{var t=window.rml.library.wpTableList;void 0!==t&&(t.sortable("enable"),t.disableSelection())}},onCancel:function(){var e=window.rml.library.getBackboneOfAIO(c(this));if(c(this).allInOneTree("movement",!0),e.view)e.view.attachments.refreshSortable(!1);else{var t=window.rml.library.wpTableList;void 0!==t&&(t.sortable("disable"),t.enableSelection())}},toolTipTitle:rmlOpts.lang.toolbarItems.order.toolTipTitle,toolTipText:rmlOpts.lang.toolbarItems.order.toolTipText,toolTipTextDisabledLink:rmlOpts.lang.toolbarItems.order.toolTipTextDisabledLink},{name:"refresh",content:'<i class="fa fa-refresh"></i>',onClick:function(){window.rml.hooks.call("tree/refresh",!1,this)},toolTipTitle:rmlOpts.lang.toolbarItems.refresh.toolTipTitle,toolTipText:rmlOpts.lang.toolbarItems.refresh.toolTipText},{name:"rename",content:'<i class="fa fa-pencil"></i>',visibleInActiveFolderType:["0","1","2"],onSave:function(t,o){c(this).allInOneTree("loader",!0),jQuery.post(rmlOpts.ajaxUrl,{action:"rml_folder_rename",nonce:rmlOpts.nonces.folderRename,name:o,id:t},function(e){c(this).allInOneTree("loader",!1),e.success?(c(this).allInOneTree("toolbarButton","rename"),window.rml.hooks.call("folder/renamed",[t,o,e.data.slug],this)):sweetAlert("Oops...",e.data.join(),"error")}.bind(this))},usePredefinedFunction:"rename",toolTipTitle:rmlOpts.lang.toolbarItems.rename.toolTipTitle,toolTipText:rmlOpts.lang.toolbarItems.rename.toolTipText,toolTipTextDisabledLink:rmlOpts.lang.toolbarItems.rename.toolTipTextDisabledLink},{name:"delete",content:'<i class="fa fa-trash-o"></i>',visibleInActiveFolderType:["0","1","2"],onClick:function(){var t=c(this).allInOneTree("active"),e=t.attr("data-slug"),o=parseInt(t.attr("data-aio-id"));e&&(0<t.parent().children("ul").children("li").length?sweetAlert("Oops...",rmlOpts.lang.deleteFailed,"error"):sweetAlert({title:rmlOpts.lang.deleteConfirmTitle,text:RMLFormat(rmlOpts.lang.deleteConfirm,t.find(".aio-node-name").attr("title")),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:rmlOpts.lang.deleteConfirmSubmit,cancelButtonText:rmlOpts.lang.deleteConfirmCancel,closeOnConfirm:!1},function(){c(this).allInOneTree("loader",!0),jQuery.post(rmlOpts.ajaxUrl,{action:"rml_folder_delete",nonce:rmlOpts.nonces.folderDelete,id:o},function(e){c(this).allInOneTree("loader",!1),e.success?(c(this).allInOneTree("remove",t),window.rml.hooks.call("folder/removed",o,this)):sweetAlert("Oops...",e.data.join(),"error")}.bind(this)),sweetAlert.close()}.bind(this)))},toolTipTitle:rmlOpts.lang.toolbarItems.delete.toolTipTitle,toolTipText:rmlOpts.lang.toolbarItems.delete.toolTipText,toolTipTextDisabledLink:rmlOpts.lang.toolbarItems.delete.toolTipTextDisabledLink},{name:"rearrange",content:'<i class="fa fa-sort"></i>',usePredefinedFunction:"rearrange",labelBack:rmlOpts.lang.done,toolTipTitle:rmlOpts.lang.toolbarItems.rearrange.toolTipTitle,toolTipText:rmlOpts.lang.toolbarItems.rearrange.toolTipText,onAllowed:function(){return!c(this).hasClass("aio-searching")||(window.rml.sweetAlert("Oops...",rmlOpts.lang.searchRearrange,"error"),!1)}},{name:"details",content:'<i class="fa fa-chevron-circle-down"></i>',visibleInActiveFolderType:["0","1","2","4"],toolTipTitle:rmlOpts.lang.toolbarItems.details.toolTipTitle,toolTipText:rmlOpts.lang.toolbarItems.details.toolTipText,toolTipTextDisabledLink:rmlOpts.lang.toolbarItems.details.toolTipTextDisabledLink,onAllowed:function(){return!0!==window.rml.library.isMediaLibrary?(window.rml.sweetAlert("Oops...",rmlOpts.lang.detailsFailedOn,"error"),!1):!(0<c(".rml-meta-media-picker").length&&c(".rml-meta-media-picker").parents(".sweet-alert.hideSweetAlert").length<=0)||(window.rml.sweetAlert("Oops...",rmlOpts.lang.detailsFailedAlreadyOpen,"error"),!1)},onClick:function(){var t=c(this),e=c(this).allInOneTree("active"),o=e.find(".aio-node-name").text(),r=e.attr("data-aio-id");window.rml.sweetAlert({title:"",text:'<div class="spinner is-active"></div><br /><br />',html:!0,showConfirmButton:!1}),c.ajax({url:rmlOpts.ajaxUrl,data:{action:"rml_meta_content",nonce:rmlOpts.nonces.metaContent,folderId:r},invokeData:{fid:r,name:o},success:function(e){window.rml.hooks.call("metadata/loaded",[e,this.invokeData.fid,this.invokeData.name],t)}})}}],labelBack:rmlOpts.lang.cancel},createTypes:[{type:"0",name:"folder",icon:'<i class="fa fa-folder-open"></i><i class="fa fa-folder"></i>',cssClasses:"page-title-action add-new-h2",visibleInActiveFolderType:["0","3","4"],label:'<i class="fa fa-folder-open-o"></i>&nbsp;<i class="fa fa-plus"></i>',toolTipTitle:rmlOpts.lang.createTypes.folder.toolTipTitle,toolTipText:rmlOpts.lang.createTypes.folder.toolTipText},{type:"1",name:"collection",icon:'<i class="mwf-collection"></i>',cssClasses:"page-title-action add-new-h2",visibleInActiveFolderType:["0","1","3","4"],label:'<i class="mwf-collection"></i>&nbsp;&nbsp;<i class="fa fa-plus"></i>',toolTipTitle:rmlOpts.lang.createTypes.collection.toolTipTitle,toolTipText:rmlOpts.lang.createTypes.collection.toolTipText},{type:"2",name:"gallery",icon:'<i class="mwf-gallery"></i>',cssClasses:"page-title-action add-new-h2",visibleInActiveFolderType:["1"],label:'<i class="mwf-gallery"></i>&nbsp;&nbsp;<i class="fa fa-plus"></i>',toolTipTitle:rmlOpts.lang.createTypes.gallery.toolTipTitle,toolTipText:rmlOpts.lang.createTypes.gallery.toolTipText}],createCancel:{label:rmlOpts.lang.cancel,cssClasses:"page-title-action add-new-h2"},movement:{selector:"#wpbody-content ul.attachments > li, .wp-list-table.media tbody tr",onGetLabel:function(e){var t=c();window.rml.library.iterateDraggedItems(jQuery(e),c(this),function(e){c.merge(t,e)},function(e){c.merge(t,this.browser.find('li[data-id="'+e.id+'"]'))});var o=0<t.length?t.length:1;0<t.filter(".rml-shortcut").length?c("body").addClass("rml-holding-shortcuts"):c("body").removeClass("rml-holding-shortcuts"),c("body").removeClass("rml-holding");var r=1<o?rmlOpts.lang.moveMultipleFiles:rmlOpts.lang.moveSingleFile,i=1<o?rmlOpts.lang.appendMultipleFiles:rmlOpts.lang.appendSingleFile;return'<div class="rml-movement-move"><i class="fa fa-arrow-right" style="margin-right:5px;"></i> '+RMLFormat(r,o)+"</div>"+('<div class="rml-movement-append"><i class="fa fa-share rml-shortcut-icon" style="margin-right:5px;"></i> '+RMLFormat(i,o)+"</div>")},onGetHelper:function(e){return c('<div class="aio-movement-helper rml-movement-helper">'+e+"</div>")},droppableSettings:{accept:function(e){var t,o=c(this).parents(".aio-tree");try{var r=c(this).attr("data-aio-type");t=window.rml.typeAccept[r].bind(this)(e,o)}catch(e){}return t},drop:function(e,t){c(e.target).addClass("needs-refresh");var o=c(this).parents(".aio-tree"),r=[],i=c("body").hasClass("rml-holding"),n=c(e.target).attr("data-aio-id"),a=o.allInOneTree("active").attr("data-aio-id"),l=[],s=function(e){for(var t=0;t<l.length;t++)e.bind(l[t])()};-1==+n&&o.allInOneTree("active").addClass("needs-refresh"),window.rml.library.iterateDraggedItems(t.draggable,o,function(e){r.push(parseInt(e.find('input[name="media[]"]').attr("value"))),l.push(e)},function(e){r.push(e.id),l.push(this.browser.find('li[data-id="'+e.id+'"]'))});var d=function(){o.allInOneTree("loader",!0),s(function(){c(this).fadeTo(250,.3)}),window.rml.hooks.call("attachments/move",[r,n,i],o),jQuery.post(rmlOpts.ajaxUrl,{action:"rml_bulk_move",nonce:rmlOpts.nonces.bulkMove,ids:r,to:n,isShortcut:i},function(e){e.success?((""==a&&i||i&&a==n)&&o.allInOneTree("toolbarButton","refresh"),s(function(){!o.data("isListMode")&&c(this).hasClass("selected")&&0<c(this).children(".attachment-preview").length&&c(this).children(".attachment-preview").click(),i||!i&&a==n||""==a?c(this).fadeTo(0,1):c(this).remove()}),o.data("isListMode")&&c(".wp-list-table.media tbody tr").length<=0&&c(".wp-list-table.media tbody").html('<tr class="no-items"><td class="colspanchange" colspan="6">'+rmlOpts.lang.noMedia+"</td></tr></tbody>"),window.rml.library.refreshCount(o,function(){o.allInOneTree("loader",!1)}),window.rml.hooks.call("attachments/moved",[r,n,i],o)):(s(function(){c(this).fadeTo(0,1)}),window.rml.sweetAlert("Oops...",e.data.join(),"error"),o.allInOneTree("loader",!1))})};""==c(this).attr("data-aio-id")?window.rml.sweetAlert({title:rmlOpts.lang.deleteConfirmTitle,text:rmlOpts.lang.moveFromAllConfirmText,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:rmlOpts.lang.moveFromAllConfirmSubmit,cancelButtonText:rmlOpts.lang.deleteConfirmCancel},function(){d()}):d()}}},others:{rootParentId:rmlOpts.root,onCreateFolder:function(e,t,o,r){c(this).allInOneTree("loader",!0);var i=arguments;jQuery.post(rmlOpts.ajaxUrl,{action:"rml_folder_create",nonce:rmlOpts.nonces.folderCreate,name:e,parent:o,type:t.type},function(e){c(this).allInOneTree("loader",!1),e.success?window.rml.hooks.call("createdBeforeRendering",[i,e],c(this)):sweetAlert("Oops...",c("<div/>").html(e.data.join()).text(),"error")}.bind(this))},labelRearrangeSave:rmlOpts.lang.save,onAfterFinish:function(){var e=c(this).allInOneTree("option").container,o=e.listMode,r=e.isMediaLibrary,i=e.isModalMode,n=c(this),t=n.allInOneTree("option","container.customSelectToChange"),a=RMLUrlParams().rml_folder||"";c(this).show().addClass("rml-mode-"+o),"list"===o&&"#order"===window.location.hash&&(c(this).allInOneTree("toolbarButton","order"),window.location.hash=""),c(this).hasClass("aio-lazy")&&(t&&(t=jQuery(t))&&n.allInOneTree("option","container.isModalMode")&&(a=t.val()),window.rml.library.initializeTreeContentLoader(a,c(this)).done(function(e){var t=window.rml.library.getBackboneOfAIO(n);t.view&&t.view._treeLoaded.resolve(e),c(this).allInOneTree("nodesHTML",c(e.data.nodes).html(),!0,a),c(this).allInOneTree("counts",{"-1":e.data.cntRoot}),window.rml.hooks.call("tree/afterInit",!1,n),window.rml.hooks.call("tree/afterInit/"+o,!1,n),r&&(window.rml.hooks.call("tree/afterInit/ML",!1,n),window.rml.hooks.call("tree/afterInit/ML/"+o,!1,n)),!1!==i&&window.rml.hooks.call("tree/afterInit/modal",i,n)}.bind(this)))},onSwitchFolder:function(e,t){},onTypeButtonClicked:function(e,t){t.stopImmediatePropagation&&t.stopImmediatePropagation()}}},c("body").hasClass("wp-admin")&&c("body").hasClass("upload-php")){window.rml.hooks.call("ready/ML"),window.rml.library.isMediaLibrary=!0,c("body").addClass("upload-php-mode-"+rmlOpts.listMode+" activate-aio"),(e=c(".rml-container.rml-dummy").clone().prependTo("body.wp-admin.upload-php #wpbody")).removeClass("rml-dummy").addClass("rml-no-dummy"),window.rml.hooks.call("tree/prepare/ML",!1,this),window.rml.library.container=e;var o=c.extend(!0,{},window.rml.defaultAioSettings,{container:{isMediaLibrary:!0,customSelectToChange:"#wpbody-content .attachment-filters-rml",resizeOpposite:"#wpbody-content",theme:"wordpress",hcStickySettings:{top:32,bottom:50,offResolutions:-700},onResizeFinished:function(e){var t;jQuery.post(rmlOpts.ajaxUrl,{action:"rml_sidebar_resize",nonce:rmlOpts.nonces.sidebarResize,width:e},function(e){}),"grid"===c(this).allInOneTree("option","container.listMode")&&(t=window.rml.library.getBackboneOfAIO(c(this)))&&t.view.attachments.setColumns()}}});window.rml.hooks.call("tree/prepare/aioSettings",o,e),window.rml.hooks.call("tree/prepare/aioSettings/"+rmlOpts.listMode,o,e),e.data("isListMode",t),e.allInOneTree(o)}else window.rml.library.customLists(),window.rml.hooks.call("ready/noMediaLibrary");jQuery(document).on("change",".rml-folder-edit select",function(){jQuery(this).css("opacity","1")})}});